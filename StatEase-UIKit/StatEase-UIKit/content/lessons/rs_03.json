{
  "id": "rs_03",
  "title": "決定係数",
  "subtitle": "決定係数の計算",
  "estimated_minutes": 5,
  "category": "regression_simple",
  "topic": "単回帰と予測",
  "summary": "回帰モデルがどれだけ変動を説明できたかを表す決定係数の定義と解釈を学びます。",
  "learning_objectives": [
    "決定係数の式と意味を説明できる",
    "調整済み決定係数との違いを理解できる",
    "決定係数を使ったモデル比較時の注意点を挙げられる"
  ],
  "prerequisites": [],
  "steps": [
    {
      "id": "rs_03_step01",
      "order": 1,
      "type": "text",
      "title": "決定係数とは",
      "body": "",
      "paragraphs": [
        {
          "title": "説明率",
          "body": "決定係数 \\(R^2\\) は、全変動に対する回帰変動の割合 \\(R^2 = \\frac{\\text{SSR}}{\\text{SST}} = 1 - \\frac{\\text{SSE}}{\\text{SST}}\\) で定義されます。0〜1の範囲で、1に近いほどモデルが変動をよく説明していると解釈します。"
        },
        {
          "title": "単回帰では相関係数の2乗",
          "body": "単回帰の場合、決定係数は目的変数と予測値の相関係数の2乗と一致します。したがって、相関の強さとも直接結び付きます。"
        }
      ]
    },
    {
      "id": "rs_03_step02",
      "order": 2,
      "type": "text",
      "title": "調整済み決定係数",
      "body": "",
      "paragraphs": [
        {
          "title": "説明変数が増えるとR^2は上がる",
          "body": "多変量回帰では、説明変数を追加すると必ず R^2 が上昇します。そこで自由度調整を行った調整済み決定係数 \\(\\bar{R}^2 = 1 - \\frac{\\text{SSE}/(n-p)}{\\text{SST}/(n-1)}\\) を用いると、公平な比較ができます（pはパラメータ数）。"
        },
        {
          "title": "モデル比較に活用",
          "body": "説明変数数が異なるモデルを比較する際は、調整済み決定係数や情報量基準（AICなど）を併用すると過学習を避けられます。"
        }
      ]
    },
    {
      "id": "rs_03_step03",
      "order": 3,
      "type": "text",
      "title": "例：広告モデル",
      "body": "",
      "paragraphs": [
        {
          "title": "計算例",
          "body": "SST=1,200、SSE=360 の場合、\\(R^2 = 1 - 360/1,200 = 0.70\\)。70%の変動を説明できています。"
        },
        {
          "title": "比較例",
          "body": "SNS広告を説明変数に追加したモデルで SSE が300まで減ったとすると、R^2=0.75、調整済みR^2も上がるなら追加の価値があると判断できます。"
        }
      ]
    },
    {
      "id": "rs_03_step04",
      "order": 4,
      "type": "text",
      "title": "注意点",
      "body": "",
      "paragraphs": [
        {
          "title": "高いR^2が常に良いわけではない",
          "body": "時系列データなど、トレンドだけで高いR^2が出る場合もあります。残差診断を行い、モデルが仮定を満たすかを必ず確認します。"
        },
        {
          "title": "目的による指標選択",
          "body": "予測精度が重要ならクロスバリデーションの誤差指標、因果推論なら推定量のバイアスなど、決定係数以外の基準も合わせて評価します。"
        }
      ]
    }
  ],
  "resources": {
    "key_terms": [
      "決定係数",
      "調整済み決定係数",
      "説明率"
    ],
    "external_links": []
  }
}
