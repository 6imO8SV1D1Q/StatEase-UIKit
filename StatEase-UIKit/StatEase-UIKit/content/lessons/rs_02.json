{
  "id": "rs_02",
  "title": "変動の分解",
  "subtitle": "変動の分解の理解",
  "estimated_minutes": 5,
  "category": "regression_simple",
  "topic": "単回帰と予測",
  "summary": "回帰分析で全変動を説明された部分と残差部分に分ける考え方と指標を整理します。",
  "learning_objectives": [
    "全変動・回帰変動・残差変動を定義できる",
    "SST=SSR+SSE の関係を説明できる",
    "分解結果を指標解釈やANOVA表につなげられる"
  ],
  "prerequisites": [],
  "steps": [
    {
      "id": "rs_02_step01",
      "order": 1,
      "type": "text",
      "title": "変動の3要素",
      "body": "",
      "paragraphs": [
        {
          "title": "全変動（SST）",
          "body": "目的変数の観測値 \\(y_i\\) が平均 \\(\\bar{y}\\) からどれだけばらついているかを表す全変動は \\(\\text{SST} = \\sum (y_i - \\bar{y})^2\\) です。"
        },
        {
          "title": "回帰変動・残差変動",
          "body": "回帰モデルが説明する変動を \\(\\text{SSR} = \\sum (\\hat{y}_i - \\bar{y})^2\\)、説明できなかった残差部分を \\(\\text{SSE} = \\sum (y_i - \\hat{y}_i)^2\\) と呼びます。"
        }
      ]
    },
    {
      "id": "rs_02_step02",
      "order": 2,
      "type": "text",
      "title": "分解の関係式",
      "body": "",
      "paragraphs": [
        {
          "title": "SST = SSR + SSE",
          "body": "最小二乗法で求めた回帰直線では、全変動が回帰変動と残差変動に厳密に分解されます。これは残差の和が0になり、回帰直線が平均を通る性質から導かれます。"
        },
        {
          "title": "自由度の対応",
          "body": "単回帰では SST の自由度が \\(n-1\\)、SSRが1、SSEが \\(n-2\\)。この関係は分散分析表（ANOVA表）で用いられ、F値の計算に繋がります。"
        }
      ]
    },
    {
      "id": "rs_02_step03",
      "order": 3,
      "type": "text",
      "title": "例：売上データの分解",
      "body": "",
      "paragraphs": [
        {
          "title": "値を計算",
          "body": "広告費回帰の例で、SST=1,200、SSR=840、SSE=360 となったとします。これは各式に観測値と予測値を代入して算出します。"
        },
        {
          "title": "読み取り",
          "body": "SST=1,200、SSR=840、SSE=360 であれば、売上のばらつきの約70%を回帰式が説明し、残り30%は他要因やノイズという解釈になります。"
        }
      ]
    },
    {
      "id": "rs_02_step04",
      "order": 4,
      "type": "text",
      "title": "活用",
      "body": "",
      "paragraphs": [
        {
          "title": "決定係数へ",
          "body": "変動分解結果から決定係数 \\(R^2 = \\text{SSR}/\\text{SST}\\) を計算できます。複数モデルの比較などに使われます。"
        },
        {
          "title": "ANOVA表でモデル評価",
          "body": "SST, SSR, SSE と自由度を表にまとめることで、回帰モデルの有意性（F検定）を評価できます。変動分解はこの土台となります。"
        }
      ]
    }
  ],
  "resources": {
    "key_terms": [
      "全変動",
      "回帰変動",
      "残差変動"
    ],
    "external_links": []
  }
}
